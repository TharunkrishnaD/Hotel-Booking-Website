{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VF Hotel List</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/booking/hotellist3.css' %}">
    <script src="{% static 'js/booking/hotellist.js' %}"></script>
    <script src="{% static 'js/booking/homepage2.js' %}"></script>
    <style>
        .fa-star.checked {
            color: orange;
        }
        .fa-star.unchecked {
            color: #ccc; /* Change to the color you want for empty stars */
        }
    </style>
</head>
<body>
    <div id="preloader" style="width: 100%; height:100vh; justify-content: center; align-items: center; margin-left: 600px; margin-top: 200px;" class="loadingio-spinner-spinner-g752ah8jht9"><div class="ldio-5be0l33kbn4">
        <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
        </div></div>
    <style type="text/css">
        @keyframes ldio-5be0l33kbn4 {
          0% { opacity: 1 }
          100% { opacity: 0 }
        }
        .ldio-5be0l33kbn4 div {
          left: 94px;
          top: 48px;
          position: absolute;
          animation: ldio-5be0l33kbn4 linear 1s infinite;
          background: #008ce3;
          width: 12px;
          height: 24px;
          border-radius: 4.8px / 4.8px;
          transform-origin: 6px 52px;
        }.ldio-5be0l33kbn4 div:nth-child(1) {
          transform: rotate(0deg);
          animation-delay: -0.9166666666666666s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(2) {
          transform: rotate(30deg);
          animation-delay: -0.8333333333333334s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(3) {
          transform: rotate(60deg);
          animation-delay: -0.75s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(4) {
          transform: rotate(90deg);
          animation-delay: -0.6666666666666666s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(5) {
          transform: rotate(120deg);
          animation-delay: -0.5833333333333334s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(6) {
          transform: rotate(150deg);
          animation-delay: -0.5s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(7) {
          transform: rotate(180deg);
          animation-delay: -0.4166666666666667s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(8) {
          transform: rotate(210deg);
          animation-delay: -0.3333333333333333s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(9) {
          transform: rotate(240deg);
          animation-delay: -0.25s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(10) {
          transform: rotate(270deg);
          animation-delay: -0.16666666666666666s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(11) {
          transform: rotate(300deg);
          animation-delay: -0.08333333333333333s;
          background: #008ce3;
        }.ldio-5be0l33kbn4 div:nth-child(12) {
          transform: rotate(330deg);
          animation-delay: 0s;
          background: #008ce3;
        }
        .loadingio-spinner-spinner-g752ah8jht9 {
          width: 200px;
          height: 200px;
          display: inline-block;
          overflow: hidden;
          background: none;
        }
        .ldio-5be0l33kbn4 {
          width: 100%;
          height: 100%;
          position: relative;
          transform: translateZ(0) scale(1);
          backface-visibility: hidden;
          transform-origin: 0 0; /* see note above */
        }
        .ldio-5be0l33kbn4 div { box-sizing: content-box; }
        /* generated by https://loading.io/ */
    </style>
    <Header>
        <div class="container-fluid">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <a class="navbar-brand" href="#" >
                    <img src="{% static 'image/booking/Magnet logo.png' %}" alt="logo" width="79px" height="79px">
                </a>
                <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto"> <!-- mx-auto for centering -->
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/flight b.svg' %}" alt=""><p>Flights</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/hotel b.svg' %}" alt=""><p>Hotels</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/holiday b.svg' %}" alt=""><p>Holidays</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/island b.svg' %}" alt=""><p>Island</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/visa b.svg' %}" alt=""><p>Visa</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="{% static 'image/booking/more b.svg' %}" alt=""><p>More</p></a>
                        </li>
                    </ul>
                    <div class="d-flex">
                        <button class="btn btn-primary log-btn">Log In</button>
                    </div>
                </div>
            </nav>
        </div>
    </Header>
    <section id="input-sec" class="container-fluid">
        <form class="container inp-row" method="post" action="{% url 'process_form' %}">
            {% csrf_token %}
            <div class="col-md-2 inp">
                <label for="landmark">LANDMARK</label>
                <div class="control-group">
                    <div class="controls bootstrap-timepicker">
                        <input type="text" id="autocompleteInput" placeholder="Enter The Name, City, Landmark" style="font-size: 14px;" value="{{ nationality }}" name="cityname">
                        <input type="hidden" id="cityIdInput" name="city_id">
                        <input type="hidden" id="countryCodeInput" name="country_code">
                        <i class="icon-time"></i>
                        <script>
                            $(function () {
                                $("#autocompleteInput").autocomplete({
                                    source: function (request, response) {
                                        $.ajax({
                                            url: "/search_destinations/",
                                            dataType: "json",
                                            data: {
                                                query: request.term
                                            },
                                            success: function (data) {
                                                response(data.data);
                                            }
                                        });
                                    },
                                    minLength: 2,
                                    select: function (event, ui) {
                                        // Update the hidden input fields with selected values
                                        $("#cityIdInput").val(ui.item.cityID);
                                        $("#countryCodeInput").val(ui.item.countryCode);
                                    }
                                });
                            });
                        </script>
                    </div>
                </div>
            </div>
            <div class="col-md-2 inp">
                <label for="check-in">CHECK IN</label>
                <input type="text" class="check" data-date="" data-date-format="DD MMMM YYYY" value="{{formatted_check_in_date}}" style="font-size: 14px;" name="check-in" id="check-in">
            </div>
            <div class="col-md-2 inp">
                <label for="check-out">CHECK OUT</label>
                <input type="text" class="check" data-date="" data-date-format="DD MMMM YYYY" value="{{formatted_check_out_date}}" style="font-size: 14px;" name="check-out" id="check-out">
            </div>
            <div class="col-md-2 inp">
                <label for="Nationality">NATIONALITY</label>
                <select class="Nationality" name="nation" id="nation" style="font-size: 14px;width: 100%;padding: 6px 0px;border-radius: 6px;">
                                                                                                   <option value="IN" selected>India</option>
                                                                                                   <option value="AF" >Afghanistan</option>
                                                                                                   <option value="AL" >Albania</option>
                                                                                                   <option value="DZ" >Algeria</option>
                                                                                                   <option value="AS" >American Samoa</option>
                                                                                                   <option value="AD" >Andorra</option>
                                                                                                   <option value="AO" >Angola</option>
                                                                                                   <option value="AI" >Anguilla</option>
                                                                                                   <option value="AQ" >Antarctica</option>
                                                                                                   <option value="AG" >Antigua &amp; Barbuda</option>
                                                                                                   <option value="AR" >Argentina</option>
                                                                                                   <option value="AM" >Armenia</option>
                                                                                                   <option value="AW" >Aruba</option>
                                                                                                   <option value="AU" >Australia</option>
                                                                                                   <option value="AT" >Austria</option>
                                                                                                   <option value="AZ" >Azerbaijan</option>
                                                                                                   <option value="BS" >Bahamas</option>
                                                                                                   <option value="BH" >Bahrain</option>
                                                                                                   <option value="BD" >Bangladesh</option>
                                                                                                   <option value="BB" >Barbados</option>
                                                                                                   <option value="BY" >Belarus (Belorussia)</option>
                                                                                                   <option value="BE" >Belgium</option>
                                                                                                   <option value="BZ" >Belize</option>
                                                                                                   <option value="BJ" >Benin</option>
                                                                                                   <option value="BM" >Bermuda</option>
                                                                                                   <option value="BT" >Bhutan</option>
                                                                                                   <option value="BO" >Bolivia</option>
                                                                                                   <option value="BA" >Bosnia and Herzegowina</option>
                                                                                                   <option value="BW" >Botswana</option>
                                                                                                   <option value="BV" >Bouvet Islands</option>
                                                                                                   <option value="BR" >Brazil</option>
                                                                                                   <option value="IO" >British Indian Ocean Territory</option>
                                                                                                   <option value="VG" >British Virgin Islands</option>
                                                                                                   <option value="BN" >Brunei Darussalam</option>
                                                                                                   <option value="BG" >Bulgaria</option>
                                                                                                   <option value="BF" >Burkina Faso</option>
                                                                                                   <option value="BI" >Burundi</option>
                                                                                                   <option value="KH" >Cambodia</option>
                                                                                                   <option value="CM" >Cameroon</option>
                                                                                                   <option value="CA" >Canada</option>
                                                                                                   <option value="CB" >Canada Buffer</option>
                                                                                                   <option value="CV" >Cape Verde</option>
                                                                                                   <option value="KY" >Cayman Islands</option>
                                                                                                   <option value="CF" >Central African Republic</option>
                                                                                                   <option value="TD" >Chad</option>
                                                                                                   <option value="CL" >Chile</option>
                                                                                                   <option value="CN" >China</option>
                                                                                                   <option value="CX" >Christmas Islands</option>
                                                                                                   <option value="CC" >Cocos (Keeling) Island</option>
                                                                                                   <option value="CO" >Colombia</option>
                                                                                                   <option value="KM" >Comoros</option>
                                                                                                   <option value="CG" >Congo</option>
                                                                                                   <option value="CD" >Congo (Rep. Dem.)</option>
                                                                                                   <option value="CK" >Cook Islands</option>
                                                                                                   <option value="CR" >Costa Rica</option>
                                                                                                   <option value="HR" >Croatia</option>
                                                                                                   <option value="CU" >Cuba</option>
                                                                                                   <option value="CY" >Cyprus</option>
                                                                                                   <option value="CZ" >Czech Republic</option>
                                                                                                   <option value="DK" >Denmark</option>
                                                                                                   <option value="DJ" >Djibouti</option>
                                                                                                   <option value="DO" >Dominican Republic</option>
                                                                                                   <option value="DM" >Dominicana</option>
                                                                                                   <option value="TP" >East Timor</option>
                                                                                                   <option value="EC" >Ecuador</option>
                                                                                                   <option value="EG" >Egypt</option>
                                                                                                   <option value="SV" >El Salvador</option>
                                                                                                   <option value="GQ" >Equatorial Guinea</option>
                                                                                                   <option value="ER" >Eritrea</option>
                                                                                                   <option value="EE" >Estonia</option>
                                                                                                   <option value="ET" >Ethiopia</option>
                                                                                                   <option value="EU" >European Monetary Union</option>
                                                                                                   <option value="FK" >Falkland Islands</option>
                                                                                                   <option value="FO" >Faroe Islands</option>
                                                                                                   <option value="FJ" >Fiji Islands</option>
                                                                                                   <option value="FI" >Finland</option>
                                                                                                   <option value="FR" >France</option>
                                                                                                   <option value="GF" >French Guiana</option>
                                                                                                   <option value="PF" >French Polynesia</option>
                                                                                                   <option value="TF" >French Southern Territories</option>
                                                                                                   <option value="GA" >Gabon</option>
                                                                                                   <option value="GM" >Gambia</option>
                                                                                                   <option value="GE" >Georgia</option>
                                                                                                   <option value="DE" >Germany</option>
                                                                                                   <option value="GH" >Ghana</option>
                                                                                                   <option value="GI" >Gibralter</option>
                                                                                                   <option value="GR" >Greece</option>
                                                                                                   <option value="GL" >Greenland</option>
                                                                                                   <option value="GD" >Grenada</option>
                                                                                                   <option value="GP" >Guadeloupe</option>
                                                                                                   <option value="GU" >Guam</option>
                                                                                                   <option value="GT" >Guatemala</option>
                                                                                                   <option value="GN" >Guinea</option>
                                                                                                   <option value="GW" >Guinea-Bissau</option>
                                                                                                   <option value="GY" >Guyana</option>
                                                                                                   <option value="HT" >Haiti</option>
                                                                                                   <option value="HM" >Heard &amp; Mcdonald Islands</option>
                                                                                                   <option value="HN" >Honduras</option>
                                                                                                   <option value="HK" >Hong kong</option>
                                                                                                   <option value="HU" >Hungary</option>
                                                                                                   <option value="IS" >Iceland</option>
                                                                                                   <option value="ID" >Indonesia</option>
                                                                                                   <option value="IR" >Iran</option>
                                                                                                   <option value="IQ" >Iraq</option>
                                                                                                   <option value="IE" >Ireland</option>
                                                                                                   <option value="IL" >Israel</option>
                                                                                                   <option value="IT" >Italy</option>
                                                                                                   <option value="CI" >Ivory Coast</option>
                                                                                                   <option value="JM" >Jamaica</option>
                                                                                                   <option value="JP" >Japan</option>
                                                                                                   <option value="JO" >Jordan</option>
                                                                                                   <option value="KZ" >Kazakhstan</option>
                                                                                                   <option value="KE" >Kenya</option>
                                                                                                   <option value="KI" >Kiribati</option>
                                                                                                   <option value="KP" >Korea (Democratic People's Republic Of)</option>
                                                                                                   <option value="KW" >Kuwait</option>
                                                                                                   <option value="KG" >Kyrgyzstan</option>
                                                                                                   <option value="LA" >Lao People's Democratic Republic</option>
                                                                                                   <option value="LV" >Latvia</option>
                                                                                                   <option value="LB" >Lebanon</option>
                                                                                                   <option value="LS" >Lesotho</option>
                                                                                                   <option value="LR" >Liberia</option>
                                                                                                   <option value="LY" >Libyan Arab Jamahiriya</option>
                                                                                                   <option value="LI" >Liechtenstein</option>
                                                                                                   <option value="LT" >Lithuania</option>
                                                                                                   <option value="QL" >Lithuania (Dummy Code)</option>
                                                                                                   <option value="LU" >Luxembourg</option>
                                                                                                   <option value="MO" >Macau</option>
                                                                                                   <option value="MK" >Macedonia</option>
                                                                                                   <option value="MG" >Madagascar</option>
                                                                                                   <option value="MW" >Malawi</option>
                                                                                                   <option value="MY" >Malaysia</option>
                                                                                                   <option value="MV" >Maldives</option>
                                                                                                   <option value="ML" >Mali</option>
                                                                                                   <option value="MT" >Malta</option>
                                                                                                   <option value="MH" >Marshall Islands</option>
                                                                                                   <option value="MQ" >Martinique</option>
                                                                                                   <option value="MR" >Mauritania</option>
                                                                                                   <option value="MU" >Mauritius</option>
                                                                                                   <option value="YT" >Mayotte</option>
                                                                                                   <option value="MX" >Mexico</option>
                                                                                                   <option value="MB" >Mexico Buffer</option>
                                                                                                   <option value="FM" >Micronesia</option>
                                                                                                   <option value="MD" >Moldova</option>
                                                                                                   <option value="MC" >Monaco</option>
                                                                                                   <option value="MN" >Mongolia</option>
                                                                                                   <option value="MS" >Montserrat</option>
                                                                                                   <option value="MA" >Morocco</option>
                                                                                                   <option value="MZ" >Mozambique</option>
                                                                                                   <option value="MM" >Myanmar</option>
                                                                                                   <option value="NA" >Namibia</option>
                                                                                                   <option value="NR" >Nauru</option>
                                                                                                   <option value="NP" >Nepal</option>
                                                                                                   <option value="NL" >Netherlands</option>
                                                                                                   <option value="AN" >Netherlands Antilles</option>
                                                                                                   <option value="NC" >New Caledonia</option>
                                                                                                   <option value="NZ" >New Zealand</option>
                                                                                                   <option value="NI" >Nicaragua</option>
                                                                                                   <option value="NE" >Niger</option>
                                                                                                   <option value="NG" >Nigeria</option>
                                                                                                   <option value="NU" >Niue</option>
                                                                                                   <option value="NF" >Norfolk Islands</option>
                                                                                                   <option value="MP" >Northern Mariana Islands</option>
                                                                                                   <option value="NO" >Norway</option>
                                                                                                   <option value="OM" >Oman</option>
                                                                                                   <option value="PK" >Pakistan</option>
                                                                                                   <option value="PW" >Palau</option>
                                                                                                   <option value="PS" >Palestinian Occ. Territories</option>
                                                                                                   <option value="PA" >Panama</option>
                                                                                                   <option value="PG" >Papua New Guinea</option>
                                                                                                   <option value="PY" >Paraguay</option>
                                                                                                   <option value="PE" >Peru</option>
                                                                                                   <option value="PH" >Philippines</option>
                                                                                                   <option value="PL" >Poland</option>
                                                                                                   <option value="PT" >Portugal</option>
                                                                                                   <option value="PR" >Puerto Rico</option>
                                                                                                   <option value="QA" >Qatar</option>
                                                                                                   <option value="RE" >Reunion</option>
                                                                                                   <option value="RO" >Romania</option>
                                                                                                   <option value="RW" >Ruanda</option>
                                                                                                   <option value="RU" >Russian Federation</option>
                                                                                                   <option value="LC" >Saint Lucia</option>
                                                                                                   <option value="WS" >Samoa</option>
                                                                                                   <option value="SM" >San Marino</option>
                                                                                                   <option value="ST" >Sao Tome &amp; Principe</option>
                                                                                                   <option value="SA" >Saudi Arabia</option>
                                                                                                   <option value="SN" >Senegal</option>
                                                                                                   <option value="SC" >Seychelles</option>
                                                                                                   <option value="SL" >Sierra Leone</option>
                                                                                                   <option value="SG" >Singapore</option>
                                                                                                   <option value="SK" >Slovakia</option>
                                                                                                   <option value="SI" >Slovenia</option>
                                                                                                   <option value="SB" >Solomon Islands</option>
                                                                                                   <option value="SO" >Somalia</option>
                                                                                                   <option value="ZA" >South Africa</option>
                                                                                                   <option value="GS" >South Georgia &amp; South Sandwich</option>
                                                                                                   <option value="KR" >South Korea</option>
                                                                                                   <option value="SU" >Soviet Union</option>
                                                                                                   <option value="ES" >Spain</option>
                                                                                                   <option value="LK" >Sri Lanka</option>
                                                                                                   <option value="SH" >St. Helena</option>
                                                                                                   <option value="KN" >St. Kitts and Nevis</option>
                                                                                                   <option value="PM" >St. Pierre &amp; Miquelon</option>
                                                                                                   <option value="VC" >St. Vincent &amp; the Grenadines</option>
                                                                                                   <option value="SD" >Sudan</option>
                                                                                                   <option value="SR" >Suriname</option>
                                                                                                   <option value="SJ" >Svalbard &amp; Jan Mayen Islands</option>
                                                                                                   <option value="SZ" >Swaziland</option>
                                                                                                   <option value="SE" >Sweden</option>
                                                                                                   <option value="CH" >Switzerland</option>
                                                                                                   <option value="SY" >Syrian Arab Republic</option>
                                                                                                   <option value="TW" >Taiwan</option>
                                                                                                   <option value="TJ" >Tajikistan</option>
                                                                                                   <option value="TZ" >Tanzania</option>
                                                                                                   <option value="TH" >Thailand</option>
                                                                                                   <option value="TG" >Togo</option>
                                                                                                   <option value="TK" >Tokelau</option>
                                                                                                   <option value="TO" >Tonga</option>
                                                                                                   <option value="TT" >Trinidad and Tobago</option>
                                                                                                   <option value="TN" >Tunisia</option>
                                                                                                   <option value="TC" >Turcs &amp; Caicos Islands</option>
                                                                                                   <option value="TR" >Turkey</option>
                                                                                                   <option value="TM" >Turkmenistan</option>
                                                                                                   <option value="TV" >Tuvalu</option>
                                                                                                   <option value="UM" >U.S. Minor Outlaying Islands</option>
                                                                                                   <option value="UG" >Uganda</option>
                                                                                                   <option value="UA" >Ukraine</option>
                                                                                                   <option value="AE" >United Arab Emirates</option>
                                                                                                   <option value="GB" >United Kingdom</option>
                                                                                                   <option value="UY" >Uruguay</option>
                                                                                                   <option value="US" >USA</option>
                                                                                                   <option value="UZ" >Uzbekistan</option>
                                                                                                   <option value="VU" >Vanuatu</option>
                                                                                                   <option value="VA" >Vatican City State</option>
                                                                                                   <option value="VE" >Venezuela</option>
                                                                                                   <option value="VN" >Vietnam</option>
                                                                                                   <option value="VI" >Virgin Islands (US)</option>
                                                                                                   <option value="WF" >Wallis &amp; Futuna Islands</option>
                                                                                                   <option value="EH" >Western Sahara</option>
                                                                                                   <option value="YE" >Yemen</option>
                                                                                                   <option value="YU" >Yugoslavia</option>
                                                                                                   <option value="ZM" >Zambia</option>
                                                                                                   <option value="ZW" >Zimbabwe</option>
                </select>
            </div>
            <div class="col-md-2 inp">
                <label for="room-inp">PERSON & ROOMS</label>
                <input type="text" class="form-control" id="room" placeholder="1 Room & 0 Adults" onclick="showForm()">
                <input type="hidden" id="roomInfoInput" name="roomInfoInput">
                <input type="hidden" id="totalRoomInfoInput" name="totalRoomInfoInput">
            </div>
            <div class="search-btn col-md-2 mt-3 inp">
                <button type="submit" class="btn btn-primary mod-btn">Modify Search</button>
            </div>
        </form>
    </section>
    <section id="form">
        <div id="wrapper">
            <div id="form_div">
                <table class="table table-hover text-nowrap" id="attribute_table">
                    <thead>
                       
                        <tr>
                            <th class="room-h" >Room</th>
                            <th class="room-h" >Adults</th>
                            <th class="room-h">Child</th>
                            <th class="room-h">Child Age</th>
                        </tr>
                    </thead>
                    <tr id="row1" class="room-info">
                        <td>Room1</td>
                        <td>
                            <select name='attribute_name' class='form-control attribute_name' id="adult_1" onchange="getAdultCount()">
                                <option value='0'>Select</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </td>
                        <td>
                            <select name='attribute_id' id="child_1" class='form-control attribute_value' onchange="getAdultCount()">
                                <option data-parent='0' value='0'>Select</option>
                                <option value="1">1</option>
                            </select>
                        </td>
                        <td>
                            <select name='attribute_id' id="childage_1" class='form-control attribute_value' onchange="getAdultCount()">
                                <option data-parent='0' value='0'>Select</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                    </tr>
                </table>

                <input class="btn" id="add-btn" type="button" onclick="add_attribute_row();" value="Add Room+">

                <input class="btn " id="remove-btn" type="button" onclick="del_att_row();" value="Remove Room-">
            </div>
            <button class="btn btn-primary" id="app-btn" onclick="hideForm()">Apply</button>
        </div>
    </section> 
    <section id="hotel-sec" class="container d-flex flex-row mt-4">
        <div id="hotel-main" class="container col-md-3 mt-4">
            <div class="hotel-list row">
                <div class="filter-hv col-md-">
                    <div class="box-1">
                        <p class="a1">FILTERS</p>
                    </div>
                    <hr>
                    <div class="wrapper">
                        <h2>Price For Night</h2>
                        <div class="price-input">
                            <div class="field">
                                <label for="price">₹</label>
                                <input type="number" class="form-control input-min" value="{{ min_price }}">
                            </div>
                            <div class="separator">-</div>
                            <div class="field">
                                <label for="price">₹</label>
                                <input type="number" class="form-control input-max" value="{{ max_price }}">
                            </div>
                        </div>
                        <div class="slider">
                            <div class="progress"></div>
                        </div>
                        <div class="range-input">
                            <input type="range" class="form-range range-min" min="0" max="10000" value="{{ min_price }}" step="100">
                            <input type="range" class="form-range range-max" min="0" max="10000" value="{{ max_price }}" step="100">
                        </div>
                    </div>
                </div>
                <div class="filter-property">
                    <div class="filter-header">
                        <p class="h2">STAR RATING</p>
                    </div>
                    <div class="checklist-1">
                        <label class="form-check-label">
                            <input type="checkbox" name="checklist" value="5" class="form-check-input">
                            <div style="padding-top: 15px;padding-left: 10px;">
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                            </div>
                        </label>
                        <label class="form-check-label">
                            <input type="checkbox" name="checklist" value="4" class="form-check-input">
                            <div style="padding-top: 15px;padding-left: 10px;">
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star"></span>
                            </div>
                        </label>
                        <label class="form-check-label">
                            <input type="checkbox" name="checklist" value="3" class="form-check-input">
                            <div style="padding-top: 15px;padding-left: 10px;">
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star"></span>
                                <span class="fa fa-star"></span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div id="hotel-info" class="container col-md-9 mt-4">
            <div id="sec-2" class="row">
                <div class="sortby-sec">
                    <div class="sort-by">
                        <p>Sort By :</p>
                    </div>    
                    <div class="checklist" onclick="handleClick(event)">
                        <label class="form-check-label" onclick="sortHotels('Name')">HOTEL NAME</label>
                        <label class="form-check-label" onclick="sortHotels('Rating')">CUSTOMER RATING</label>
                        <label class="form-check-label" onclick="sortHotels('Price')">PRICE</label>
                    </div>
                </div>
            </div>
        {% block content %}
            {% if hotel_info %}
            <div id="hotel-details" class="row">
                <div id="hotelList">
                {% for hotel in hotel_info %}
                <div class="hotel" data-rating="{{ hotel.Rating }}" data-price="{{ hotel.Price }}" data-name="{{ hotel.HotelName }}">
                <div class="hotel-div">
                    <div class="hotel-room-sec col-md-6">
                        <div class="hotel-img">
                            <img src={{ hotel.ImageURL }} alt="" >
                        </div>
                        <div class="hotel-data">
                            <div class="hotel-name">
                                <p>{{ hotel.HotelName }}</p>
                            </div>                 
                            <input type="hidden" id="{{ hotel.HotelCode }}_rating" value="{{ hotel.Rating }}">
                            <div id="{{ hotel.HotelCode }}_starRating" class="hotel-star">
                                {% for star in "12345" %}
                                    <span class="fa fa-star {% if forloop.counter <= hotel.Rating %}checked{% else %}unchecked{% endif %}"></span>
                                {% endfor %}
                            </div>
                            <div class="hotel-loc">
                                <address>{{ hotel.Address }}</address>
                            </div>
                            <div class="hotel-view">
                                <a class="view-details-link" data-hotel-code="{{ hotel.HotelCode }}" data-trace-id="{{ hotel.TraceId }}" data-result-index="{{ hotel.ResultIndex }}" data-token-id="{{ token_id }}" href="#">View Details</a>
                            </div>
                        </div>
                    </div>
                    <div class="price-sec">
                        <div class="hotel-price">
                            <p class="price">INR {{hotel.Price}}</p>
                            <p class="pn">Per Night</p>
                        </div>
                        <div class="hotel-btn">
                            <button class="btn btn-primary select-room-btn" id="showBtn"
                            data-hotel-code="{{ hotel.HotelCode }}" 
                            data-trace-id="{{ hotel.TraceId }}" 
                            data-result-index="{{ hotel.ResultIndex }}" 
                            onclick="handleSelectRoom('{{ hotel.HotelCode }}', '{{ hotel.TraceId }}', '{{ hotel.ResultIndex }}','{{ token_id }}')">Select Room</button>
                            <button type="hidden" class="btn btn-primary" id="hideBtn" onclick="hiderooms('{{ hotel.HotelCode }}')" style="display: none;">Hide Rooms</button>
                        </div>
                    </div>
                </div>
                <div id="{{hotel.HotelCode}}" class="col-md-6 hotel-room" style="display: none;">
                    <div class="hide-room1" >
                    </div>
                </div>
                </div>
                {% endfor %}
            </div>
            </div>
        </div> 
    </section>
            {% endif %}
        {% endblock %}  
    <script>
        // Assuming you have jQuery included in your project
        $('.view-details-link').on('click', function(event) {
            event.preventDefault();
        
            var hotelCode = $(this).data('hotel-code');
            var traceId = $(this).data('trace-id');
            var resultIndex = $(this).data('result-index');
            var tokenId = $(this).data('token-id');
        
            // Your AJAX request to send data to views.py
            var csrftoken = document.cookie.match(/csrftoken=([\w-]+)/)[1];
            $.ajax({
                url: "/your_view/",  
                type: "POST",
                data: {
                    'hotelCode': hotelCode,
                    'traceId': traceId,
                    'resultIndex': resultIndex,
                    'tokenId': tokenId
                },
                headers: {
                    'X-CSRFToken': csrftoken  // Include the CSRF token in the headers
                },
                success: function(response) {
                    // Handle the response from the server
                    if (response.error) {
                        console.log('hii')
                        console.error(response.error);
                    } else {
                        // document.body.innerHTML = response.html;
                        var newWindow = window.open();
                        newWindow.document.write(response.html);
                        console.log(response.html)
                        console.log('hello')
                        // updateRoomDetails(response.room_details, hotelCode);
                    }
                },
                error: function(error) {
                    // Handle errors if any
                    console.error(error);
                }
            });
        });
    </script>       
    <script>
        const rangeInput = document.querySelectorAll(".range-input input"),
        priceInput = document.querySelectorAll(".price-input input"),
        range = document.querySelector(".slider .progress");
        let priceGap = 1000;
    
        priceInput.forEach(input =>{
            input.addEventListener("input", e =>{
                let minPrice = parseInt(priceInput[0].value),
                maxPrice = parseInt(priceInput[1].value);
                
                if((maxPrice - minPrice >= priceGap) && maxPrice <= rangeInput[1].max){
                    if(e.target.className === "input-min"){
                        rangeInput[0].value = minPrice;
                        range.style.left = ((minPrice / rangeInput[0].max) * 100) + "%";
                    }else{
                        rangeInput[1].value = maxPrice;
                        range.style.right = 100 - (maxPrice / rangeInput[1].max) * 100 + "%";
                    }
                }
            });
        });
    
        rangeInput.forEach(input =>{
            input.addEventListener("input", e =>{
                RangeSlider()
               
            });
        });

    $( document ).ready(function() {
        RangeSlider()
    });

    function RangeSlider() {
        let minVal = parseInt(rangeInput[0].value),
                maxVal = parseInt(rangeInput[1].value);
                filterHotelsByPrice(minVal,maxVal)
                console.log(minVal,maxVal)
                if((maxVal - minVal) < priceGap){
                    if(e.target.className === "range-min"){
                        rangeInput[0].value = maxVal - priceGap
                    }else{
                        rangeInput[1].value = minVal + priceGap;
                    }
                }else{
                    priceInput[0].value = minVal;
                    priceInput[1].value = maxVal;
                    range.style.left = ((minVal / rangeInput[0].max) * 100) + "%";
                    range.style.right = 100 - (maxVal / rangeInput[1].max) * 100 + "%";
                }

    }

    </script>
    <script>
        function filterHotelsByPrice(minPrice,maxPrice) {
           // priceInput = document.querySelectorAll(".price-input input")
          //  var minPrice = parseInt(priceInput[0].value);
          //  var maxPrice = parseInt($(".input-max").val());

            console.log("Filtering by Price:", minPrice, maxPrice);

            $(".hotel").each(function () {
                var hotelPrice = parseInt($(this).data("price"));

                console.log("Hotel Price:", hotelPrice);

                if (hotelPrice >= minPrice && hotelPrice <= maxPrice) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        }

        // Attach the filter function to the input change event
        // $(".input-min, .input-max").on("input", function () {
        //     filterHotelsByPrice();
        // });
    </script>
    <script>
        function filterHotelsByRating() {
            var selectedRatings = [];
            // Iterate over checked star rating checkboxes
            $('input[name="checklist"]:checked').each(function () {
                selectedRatings.push($(this).val());
            });

            $(".hotel").each(function () {
                var hotelRating = parseInt($(this).data("rating"));

                // Show the hotel if it matches any of the selected ratings, or if no ratings are selected
                if (selectedRatings.length === 0 || selectedRatings.includes(hotelRating.toString())) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        }

        // Attach the filter function to the checkbox change event
        $('input[name="checklist"]').on("change", function () {
            filterHotelsByRating();
        });
    </script>
    <!-- <script>
        $("input").on("change", function() {
        this.setAttribute(
            "data-date",
            moment(this.value, "YYYY-MM-DD")
            .format( this.getAttribute("data-date-format") )
        )
        }).trigger("change")
    </script> -->
      <script>
        $(function () {
          // Initialize Datepicker for the first date
          $("#check-in").datepicker({
            minDate: 0, // Minimum date is today
            dateFormat: 'dd MM yy', // Set the date format
            onSelect: function (dateText, inst) {
              // Update the data-date attribute using moment.js
              $(this).attr("data-date", moment(dateText, "DD MMMM YYYY").format($(this).attr("data-date-format")));
    
              // Calculate the next date using moment.js
              var nextDate = moment(dateText, "DD MMMM YYYY").add(1, 'days').format("DD MMMM YYYY");
    
              // Set the default date for the second datepicker to one day after the selected date
              $("#check-out").datepicker("option", "minDate", nextDate);
              $("#check-out").datepicker("setDate", nextDate);
            }
          });
    
          // Initialize Datepicker for the second date
          $("#check-out").datepicker({
            minDate: 1, // Minimum date is one day after today
            dateFormat: 'dd MM yy', // Set the date format
          });
    
          // Set the default date to today for the first datepicker
          $("#check-in").datepicker("setDate", new Date());
    
          // Set the default date for the second datepicker to one day after today
          var nextDefaultDate = moment().add(1, 'days').format("DD MMMM YYYY");
          $("#check-out").val(nextDefaultDate);
        });
      </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var loader =  document.getElementById("preloader")
        window.addEventListener("load", function() {
            loader.style.display="none"
        })
     </script>

</body>
</html> 